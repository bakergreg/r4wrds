---
title: "Software Installation & Setup"
description: |
  Getting your computer <font color="#009E73">*ready*</font> so you can <font color="#0072B2">**learn**</font>!
output: 
  distill::distill_article:
    toc: true
    includes:
      in_header: assets/header.html
      after_body: assets/footer.html
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Welcome! There’s a few things we’d like everyone to try and do <font color="#0072B2">*before*</font> the workshop starts. For this workshop and the following lessons, we need to install the following programs/software in this order (more details below for different operating systems):

<aside>
Our goal is for you to learn how to use these tools so you can get stuff done. You can learn to be an expert later! These are guidelines to install the necessary tools. Feel free to let us know if you run into trouble!
</aside>

 1. Install [<img src="https://cran.r-project.org/Rlogo.svg" alt="R" width="5%">&nbsp;](https://cran.rstudio.com/)
 2. Install [<img src="https://d33wubrfki0l68.cloudfront.net/62bcc8535a06077094ca3c29c383e37ad7334311/a263f/assets/img/logo.svg" alt="RStudio" width="10%">&nbsp;](https://www.rstudio.com/products/rstudio/download/)
 3. Install R Packages & Test They Work
 4. Install [Geospatial Packages](https://r-spatial.github.io/sf/) and <img src="https://user-images.githubusercontent.com/520851/34887433-ce1d130e-f7c6-11e7-83fc-d60ad4fae6bd.gif" alt="{sf}" width="5%">

 5. Download Data for the Workshop

We've tried to provide some extra details below that are appropriate for either Windows or MacOSX operating systems. For additional installation options, see [here](https://datacarpentry.org/R-ecology-lesson/index.html#install-r-and-rstudio).

## Step 1. Install &nbsp;[<img src="https://cran.r-project.org/Rlogo.svg" alt="R" width="7%">&nbsp;](https://cran.rstudio.com/)

R is the underlying statistical computing environment, or the engine we use to do things. 

### *Windows*: Download and install R
Go to [CRAN and download](https://cran.rstudio.com/bin/windows/base/) the R installer for Windows. Make sure to choose the latest stable version (v4.0.4 as of Mar 2021). Download the <font color="#0072B2">`.exe`</font> file and double click to install.

 - You can click next through the standard dialogs and accept most defaults. But at the destination
screen, please verify that it is installing it to `C:\Program Files\R` (*version number may vary*), and **you may need administrative privileges to do this if it's not your personal computer.**

At the "Select Components" screen, you can accept the default and install both 32-bit and 64-bit versions.

![](images/install_arch_window.png#inline-img "select architecture")

At this screen, uncheck 'Create a desktop icon' because non-admin users in Windows will be unable to delete it.

![](images/install_tasks.png#inline-img "uncheck desktop icon")

### *MacOS*: Download and install R

 - Download and install R from the CRAN website [here](https://cran.r-project.org/bin/macosx/). 
 - Select the `.pkg` file for the latest R version
 - Double click on the downloaded file to install R
 - It is also a good idea to install [XQuartz](https://www.xquartz.org/) if you don't have it (it is needed by some packages)


## Step 2. Install &nbsp;[<img src="https://d33wubrfki0l68.cloudfront.net/62bcc8535a06077094ca3c29c383e37ad7334311/a263f/assets/img/logo.svg" alt="RStudio Desktop" width="14%">&nbsp;](https://www.rstudio.com/products/rstudio/download/)

Using R alone is possible, but less ideal (and less fun!). RStudio is an open-source graphical integrated development environment or **IDE** that makes using R much easier and more interactive. We will only be using the *free RStudio Desktop version*.

### *Windows*: Download and install RStudio Desktop (free)

 - Download and install from [RStudio](https://www.rstudio.com/products/rstudio/download/)
 - Select **RStudio x.yy.zz - Windows Vista/7/8/10** (where x, y, z are version numbers)
 - Double-click the installer. It will ask for your administrator credentials to install, so you may need IT assistance if using a work computer.
 - Accept all the default options for the RStudio install.

### *macOS*: Download and install RStudio Desktop (free)

 - Go to the [RStudio](https://www.rstudio.com/products/rstudio/download/#download) download page
 - Under Installers select **RStudio x.yy.zzz - Mac OS X 10.6+ (64-bit)** (where x, y, and z represent version numbers)
 - Double click the file to install RStudio
 - Once it’s installed, open RStudio to make sure it works and you don’t get any error messages.


### Check Install!

Once installed, RStudio should be accessible from the start menu.  Start up RStudio.

 - **Find "Console" window**: By default the console window will be on the left side of RStudio.  Find that window.  It will looking something like:

![](images/rstudio_console.png#inline-img "RStudio console")

 - **Copy and paste the following code:** Once in that console window, copy the code below and paste it into the Console window (just to the right of the little **`>`**).

    ```r
    version$version.string
    ```

 - **Verify your installed R version**: Ideally you should be running the latest stable release (`v4.0.4` as of March 2021). If you have an older version, please install the newest version using the instructions above.

 - Here is what a current R version looks like.
 
    ```{r, echo=FALSE, eval=TRUE}
    version$version.string
    ```

## Step 3. Install R Packages

Install packages available for all R users from [CRAN](https://cran.r-project.org/) by pasting the following code and hitting `ENTER`. You may see a message

```r
There are binary versions available but the source versions are later:
```
followed by a list of the packages you are trying to install. This is usually followed by this message 
```r
Do you want to install from sources the package which needs compilation? (Yes/no/cancel)
``` 

After that message you will typically want/need to type "**Yes**". 

The core set of packages we will need are as follows. There may be a few more we need to install during the course, but this should be the majority.

```{r, eval=FALSE, echo=TRUE}

install.packages("tidyverse")
install.packages("viridis")
install.packages("openxlsx")
install.packages("readxl")
install.packages("lubridate")

```

You may see this: 

![](images/personal_library_dialog.png#inline-img "dialog box behind")

That's OK! There’s a dialog box hiding behind RStudio asking if you want to create a personal folder in your Documents folder.  Click *Yes*. It will look something like this when done:

![](images/general_pkg_output.png#inline-img "console output")


## Step 4. Install Geospatial Packages

For some of the mapping and spatial lessons, we need a set of geospatial tools/packages. For the majority of the content we will cover, this requires installation of the [{`sf`}](https://r-spatial.github.io/sf/) package. If installing from a binary package, this should work:

```{r, echo=TRUE, eval=FALSE}

install.packages("sf")
install.packages("mapview")
install.packages("USAboundaries")

```

**However, more commonly, we need to install/update from source** (*don't worry if you have no idea what this all means yet!*). To do so, we need to follow instructions below for the operating system of your choice.

### Geospatial Windows (from source):

To install {`sf`} successfully from source, Windows users will need to install [Rtools](https://cran.r-project.org/bin/windows/Rtools/). Download the 64-bit compiler, and follow the instructions to add the PATH. This requires administrative privileges.

### Geospatial MacOS (from source): 

For MacOS users, follow the recommended instructions on the [{`sf`}](https://r-spatial.github.io/sf/) webpage, which if possible, requires successfully installing [Homebrew](https://brew.sh/), then running in the the Terminal:

```
brew install pkg-config
brew install gdal
```

### Install Spatial R Packages

After this has successfully installed, you can return to the RStudio console, and install the following packages:

```{r spatialPkgs, eval=FALSE, echo=TRUE}

install.packages("sf")
install.packages("mapview")
```

Success should return something like this (not an error message) when you load the library with `library(sf)`:

```r
library(sf)
# Linking to GEOS 3.8.1, GDAL 3.1.4, PROJ 6.3.1
```

<aside>
Additional geospatial installation instructions can be found [here](https://datacarpentry.org/geospatial-workshop/setup.html), but try the listed approaches first.
</aside>


## Step 5. Download Workshop Datasets

We'll be working with a few different datasets for this workshop (see [here](https://github.com/richpauloo/wrds/tree/main/data)). We've zipped all these files into a single folder, which can be downloaded [here](). Bear in mind this **`.zip`** file is ~122 MB in size, and may take a few minutes to download depending on internet connections.

 - [**Download the zipped file of all the data**]().
 - Unzip the content into a folder on your computer that you can access for the workshop. We will help you set up a project and put the data in the correct place.

### Quick Test!

Just to make sure each package installed successfully, do the following:

1. Open up RStudio.
2. Find the "Console."  This is usually the left part RStudio.
3. In the "Console", find the R Prompt (the part that starts with `>`)
4. Type in (or copy and paste from here will also work) the following command at the R Prompt and hit return.  

```{r checkPkg, code_folding=TRUE}

# check that these packages are installed successfully:
c("tidyverse", "sf", "viridis", "mapview") %in% installed.packages()

```

If you have successfully installed packages, you should see a list of "`TRUE`" repeated once for each package listed inside the `c( )`.



